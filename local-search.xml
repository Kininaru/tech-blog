<?xml version="1.0" encoding="utf-8"?>
<search>
  
  
  
  <entry>
    <title>Rust 笔记</title>
    <link href="/rust/"/>
    <url>/rust/</url>
    
    <content type="html"><![CDATA[<h3 id="所有权"><a href="#所有权" class="headerlink" title="所有权"></a>所有权</h3><p>所有权原则：一个值只能被一个变量所有，离开该变量作用域后值被抛弃。</p><p>栈对象（基本数据类型）的赋值是直接拷贝，所有权不丢失。</p><p>堆对象（非基本数据类型）的赋值是移交堆指针，故丢失所有权。</p><p><code>for item in collection</code> 丢失所有权的 for</p><p><code>for item in &amp;collection</code> 不可变借用</p><p><code>for item in &amp;mut collection</code> 可变借用</p>]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>算法常用代码段</title>
    <link href="/algorithm/"/>
    <url>/algorithm/</url>
    
    <content type="html"><![CDATA[<p>此页面包含了一些算法题常用的代码段，供我随处复制。</p><h2 id="宏定义"><a href="#宏定义" class="headerlink" title="宏定义"></a>宏定义</h2><p>从上至下使用频率升高</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">define</span> d(i, s, e) for (int i = s; i &gt;= e; i--)</span><br><span class="hljs-meta">#<span class="hljs-keyword">define</span> f(i, s, e) for (int i = s; i &lt; e; i++)</span><br><span class="hljs-meta">#<span class="hljs-keyword">define</span> abs(a) ((a) &gt; 0 ? (a) : -(a))</span><br><span class="hljs-meta">#<span class="hljs-keyword">define</span> min(a, b) ((a) &lt; (b) ? (a) : (b))</span><br><span class="hljs-meta">#<span class="hljs-keyword">define</span> max(a, b) ((a) &gt; (b) ? (a) : (b))</span><br></code></pre></td></tr></table></figure><h2 id="函数"><a href="#函数" class="headerlink" title="函数"></a>函数</h2><p>堆排序（不使用外部空间）</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-type">void</span> <span class="hljs-title function_">heap_sort</span><span class="hljs-params">(<span class="hljs-type">int</span> *src, <span class="hljs-type">int</span> n)</span> &#123;<br>  <span class="hljs-type">int</span> p, t;<br>  <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; i++) &#123;<br>    p = i;<br>    <span class="hljs-keyword">while</span> (p/<span class="hljs-number">2</span> &gt; <span class="hljs-number">0</span> &amp;&amp; src[p/<span class="hljs-number">2</span><span class="hljs-number">-1</span>] &lt; src[p<span class="hljs-number">-1</span>]) &#123;<br>      t = src[p/<span class="hljs-number">2</span><span class="hljs-number">-1</span>];<br>      src[p/<span class="hljs-number">2</span><span class="hljs-number">-1</span>] = src[p<span class="hljs-number">-1</span>];<br>      src[p<span class="hljs-number">-1</span>] = t;<br>      p /= <span class="hljs-number">2</span>;<br>    &#125;<br>  &#125;<br>  <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = n<span class="hljs-number">-1</span>; i &gt;= <span class="hljs-number">0</span>; i--) &#123;<br>    t = src[<span class="hljs-number">0</span>];<br>    src[<span class="hljs-number">0</span>] = src[i];<br>    src[i] = t;<br>    p = <span class="hljs-number">2</span>;<br>    <span class="hljs-keyword">while</span> (p<span class="hljs-number">-1</span> &lt; i) &#123;<br>      <span class="hljs-keyword">if</span> (p &lt; i &amp;&amp; src[p<span class="hljs-number">-1</span>] &lt; src[p]) p++;<br>      <span class="hljs-keyword">if</span> (src[p/<span class="hljs-number">2</span><span class="hljs-number">-1</span>] &gt; src[p<span class="hljs-number">-1</span>]) <span class="hljs-keyword">break</span>;<br>      t = src[p/<span class="hljs-number">2</span><span class="hljs-number">-1</span>];<br>      src[p/<span class="hljs-number">2</span><span class="hljs-number">-1</span>] = src[p<span class="hljs-number">-1</span>];<br>      src[p<span class="hljs-number">-1</span>] = t;<br>      p *= <span class="hljs-number">2</span>;<br>    &#125;<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>二分查找</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-type">bool</span> <span class="hljs-title function_">bis</span><span class="hljs-params">(<span class="hljs-type">int</span> *src, <span class="hljs-type">int</span> s, <span class="hljs-type">int</span> e, <span class="hljs-type">int</span> tgt)</span> &#123;<br>  <span class="hljs-keyword">if</span> (s &gt; e) <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>  <span class="hljs-keyword">if</span> (s == e) <span class="hljs-keyword">return</span> src[s] == tgt;<br>  <span class="hljs-type">int</span> mid = (s+e)/<span class="hljs-number">2</span>;<br>  <span class="hljs-keyword">if</span> (src[mid] == tgt) <span class="hljs-keyword">return</span> <span class="hljs-number">1</span>;<br>  <span class="hljs-keyword">return</span> tgt &lt; src[mid] ? bis(src, s, mid<span class="hljs-number">-1</span>, tgt) : bis(src, mid+<span class="hljs-number">1</span>, e, tgt);<br>&#125;<br></code></pre></td></tr></table></figure><p>strsplt 字符串分割</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-type">void</span> <span class="hljs-title function_">strcpy1</span><span class="hljs-params">(<span class="hljs-type">char</span>* dst, <span class="hljs-type">char</span>* src, <span class="hljs-type">int</span> ss, <span class="hljs-type">int</span> l)</span> &#123;<br>  f(i, <span class="hljs-number">0</span>, l) dst[i] = src[ss + i];<br>  dst[l] = <span class="hljs-number">0</span>;<br>&#125;<br><br><span class="hljs-type">char</span>** <span class="hljs-title function_">strsplt</span><span class="hljs-params">(<span class="hljs-type">char</span>* src, <span class="hljs-type">int</span>* n)</span> &#123;<br>  <span class="hljs-type">int</span> l = <span class="hljs-built_in">strlen</span>(src), s = <span class="hljs-number">0</span>;<br>  *n = <span class="hljs-number">1</span>;<br>  f(i, <span class="hljs-number">0</span>, l) <span class="hljs-keyword">if</span> (src[i] == <span class="hljs-string">&#x27; &#x27;</span>)(*n)++;<br>  <span class="hljs-type">char</span> **ret = (<span class="hljs-type">char</span>**)<span class="hljs-built_in">malloc</span>(<span class="hljs-keyword">sizeof</span>(<span class="hljs-type">char</span>*) * (*n)), *newstr;<br>  *n = <span class="hljs-number">0</span>;<br>  f(i, <span class="hljs-number">0</span>, l) &#123;<br>    <span class="hljs-keyword">if</span> (src[i] != <span class="hljs-string">&#x27; &#x27;</span>) <span class="hljs-keyword">continue</span>;<br>    newstr = (<span class="hljs-type">char</span>*)<span class="hljs-built_in">malloc</span>(<span class="hljs-keyword">sizeof</span>(<span class="hljs-type">char</span>) * (i - s + <span class="hljs-number">1</span>));<br>    strcpy1(newstr, src, s, i - s);<br>    ret[(*n)++] = newstr;<br>    s = i + <span class="hljs-number">1</span>;<br>  &#125;<br>  newstr = (<span class="hljs-type">char</span>*)<span class="hljs-built_in">malloc</span>(<span class="hljs-keyword">sizeof</span>(<span class="hljs-type">char</span>) * (l - s + <span class="hljs-number">1</span>));<br>  strcpy1(newstr, src, s, l - s);<br>  ret[(*n)++] = newstr;<br>  <span class="hljs-keyword">return</span> ret;<br>&#125;<br></code></pre></td></tr></table></figure>]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>自用短链接服务</title>
    <link href="/7nm.co/"/>
    <url>/7nm.co/</url>
    
    <content type="html"><![CDATA[<blockquote><p>此域名现已过期，请不要尝试访问文中所举例子对应的链接。本人对链接中的内容没有任何控制权，并对其中内容不做任何保证。</p></blockquote><p><strong>7nm.co</strong></p><p>现在 5 个字母以内又好听不贵的域名已经不好找了，找了一晚上才找到这一个。<code>7nm.co</code> 的含义是 7 纳米。</p><h2 id="设计概览"><a href="#设计概览" class="headerlink" title="设计概览"></a>设计概览</h2><p>这个短链接服务完全部署在 Cloudflare Workers 中，我相信 Cloudflare 对于并发的处理肯定比我自己的服务器强 <del>才不是懒得备案</del> ，并且 Cloudflare Workers KV 这个设计我还是挺满意的。</p><p>整个短链接服务分为两个程序（<a href="https://github.com/Kininaru/short-link">ShortLink</a>, <a href="https://github.com/Kininaru/short-link-api">ShortLinkApi</a>），使用了两个 KV 命名空间。其中，<code>ShortLink</code> 是提供跳转的主程序；<code>ShortLinkApi</code> 是控制程序，负责生成、修改、删除、覆盖短链接。</p><h2 id="项目地址"><a href="#项目地址" class="headerlink" title="项目地址"></a>项目地址</h2><p>提供跳转的本体：<a href="https://github.com/Kininaru/short-link">GitHub - ShortLink</a></p><p>控制端：<a href="https://github.com/Kininaru/short-link-api">GitHub - ShortLinkApi</a></p><h2 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h2><p>出于法律问题，这个短链接服务我仅打算自用。但是代码是完全公开的，并且与 <code>7nm.co</code> 没有强耦合。</p><p>如果你在使用过程中有任何问题，或者发现了任何 bug，请发邮件至 <a href="mailto:shiftregister233@outlook.com">shiftregister233@outlook.com</a>。如需部署，请按照以下步骤配置。</p><p>假设你需要为 <code>example.com</code> 配置短链接服务，并在 <code>api.example.com</code> 控制这个服务，那么你需要：</p><ol><li>fork <a href="https://github.com/Kininaru/short-link">ShortLink</a> 和 <a href="https://github.com/Kininaru/short-link-api">ShortLinkApi</a></li><li>在 <a href="https://dash.cloudflare.com/profile/api-tokens">https://dash.cloudflare.com/profile/api-tokens</a> 使用 <code>编辑 Cloudflare Workers</code> 为模板创建一个令牌。</li><li>在 fork 的两个仓库中创建名为 <code>CF_API_TOKEN</code> 的 Actions Secrets，并且将上一步创建的令牌作为值填入。</li><li>在 Cloudflare -&gt; Workers -&gt; KV 中添加两个命名空间，<code>ShortLink</code> 和 <code>ShortLinkApi</code>，并且记下它们的 id。</li><li>修改 fork 之后的两个仓库根目录下的 <code>wrangler.toml</code> 文件，将 <code>kv_namespaces</code> 中 <code>ShortLink</code> 和 <code>ShortLinkApi</code> 对应的 id 改成上一步中记下的 id。</li><li>在 <code>ShortLinkApi</code> 这个 KV 命名空间中，加入一个键 <code>code</code>，值设置为只有你自己知道字符串，我们称之为 <strong>短链接控制令牌</strong>。这个令牌在安装的时候用不到，但是在使用时会用到。</li><li><code>commit</code> 这次更改至两个仓库。如果没出现问题，此时 GitHub Actions 应该被启动，然后将这两个 Workers 添加至你的 Cloudflare 账户。</li><li>配置你的域名，添加 <code>example.com</code> 和 <code>api.example.com</code> 两个解析，启用 Cloudfalre 代理。</li><li>添加 <code>example.com/*</code> 的 Workers 路由至 <code>short-link</code>，添加 <code>api.example.com/*</code> 的 Workers 路由至 <code>short-link-api</code>（如果没有出现这两个 Workers，请刷新页面，或者检查 GitHub Actions 输出结果）。</li></ol><h2 id="接口"><a href="#接口" class="headerlink" title="接口"></a>接口</h2><p>在成功搭建后，Cloudflare Workers 就会自动维护 <code>example.com/*</code> 和 <code>api.example.com/*</code> 的所有请求。前者会自动 302 跳转所有有记录的链接，例如 <a href="https://7nm.co/ZwVk9a">7nm.co/ZwVk9a</a> 会自动跳转到本文；后者用于这些记录的增删改。</p><p>我们在 <strong>api.example.com/manage</strong> 提供了一个添加短链接的快捷方法。目前界面十分简陋（<a href="https://api.7nm.co/manage">api.7nm.co/manage</a>），并且只有生成短链接的功能，因为我暂时不需要其他功能 <del>才不是因为我懒</del>。</p><p>打开这个链接后会出现一个页面，此时你需要打开浏览器终端，然后输入 <code>localStorage.setItem(&quot;code&quot;, &quot;请填入你的短链接控制令牌&quot;);</code>，执行，然后就可以使用了。需要注意的是，你需要保证这个链接是一个以 <code>http</code> 或者 <code>https</code> 开头的合法链接，否则后端会拒绝生成链接。</p><p>虽然前端界面很简陋，但后端 API 较为完善，可以提供以下功能。</p><blockquote><p> 如果没有特殊说明，以下所有 API 请求都要添加 <code>Authorization</code> 请求头，值为上文你自定的<strong>短链接控制令牌</strong>。</p></blockquote><p><strong>api.example.com/add</strong></p><ul><li><p>从一个普通链接生成一个短链接</p></li><li><p><code>POST</code></p></li><li><p>request body 应该是一个 JSON，形如</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs json"><span class="hljs-punctuation">&#123;</span> <span class="hljs-attr">&quot;link&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;https://another.example.com/urlpath&quot;</span> <span class="hljs-punctuation">&#125;</span><br></code></pre></td></tr></table></figure></li><li><p>返回值是一个 JSON</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs json"><span class="hljs-punctuation">&#123;</span> <span class="hljs-attr">&quot;code&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">0</span><span class="hljs-punctuation">,</span> <span class="hljs-attr">&quot;msg&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;/FL44zE&quot;</span><span class="hljs-punctuation">&#125;</span><br></code></pre></td></tr></table></figure><p><code>code</code> 为 0 时则添加成功，<code>msg</code> 为短链接的 <code>urlpath</code>。在 <code>urlpath</code> 前加上 <code>example.com</code> 就能 302 跳转。</p><p><code>code</code> 为 1 时添加失败，失败原因会存在 <code>msg</code> 中，目前有 <code>&quot;link error&quot;</code> 和 <code>&quot;no extra space&quot;</code>，前者意味着你提交的链接格式非法，后者说明在生成短链接的时候，发生了两次 MD5 碰撞，需要增加链接长度。</p><p>如果你遇到了后者这种情况，请给我发邮件，我会第一时间处理。同时，如果你有更好的短链接算法，也欢迎交流或者 PR。</p></li><li><p>如果你提交了一个已生成过的普通链接，则会返回之前生成的短链接链接。</p></li></ul><p><strong>api.example.com/delete</strong></p><ul><li><p>删除一个短链接记录</p></li><li><p><code>POST</code></p><p>其实这里应该使用 <code>DELETE</code>，更符合 HTTP 协议的语义。在后文设计思想中我会对这一点进行讨论。</p></li><li><p>request body 应该是一个 JSON，形如</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs json"><span class="hljs-punctuation">&#123;</span> <span class="hljs-attr">&quot;shortLink&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;/FL44zE&quot;</span> <span class="hljs-punctuation">&#125;</span><br></code></pre></td></tr></table></figure></li><li><p>返回值是一个 JSON</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs json"><span class="hljs-punctuation">&#123;</span> <span class="hljs-attr">&quot;code&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">0</span> <span class="hljs-punctuation">&#125;</span><br></code></pre></td></tr></table></figure><p>一般来说，我们保证这次删除操作一定能够成功，所以理论上不存在例外情况。</p></li></ul><p><strong>api.example.com/set</strong></p><ul><li><p>自主定一个短链接记录，如果记录已存在，则会返回失败</p></li><li><p><code>POST</code></p></li><li><p>request body 应该是一个 JSON，形如</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs json"><span class="hljs-punctuation">&#123;</span><br>    <span class="hljs-attr">&quot;shortLink&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;/special&quot;</span><span class="hljs-punctuation">,</span><br>    <span class="hljs-attr">&quot;link&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;https://special.example.com/links&quot;</span><br><span class="hljs-punctuation">&#125;</span><br></code></pre></td></tr></table></figure><p>语义很明显了，这里不做解释。</p></li><li><p>返回值是一个 JSON</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs json"><span class="hljs-punctuation">&#123;</span> <span class="hljs-attr">&quot;code&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">0</span> <span class="hljs-punctuation">&#125;</span><br></code></pre></td></tr></table></figure><p>0 代表设定成功，1 代表短链接已存在。</p></li><li><p>通过这个 API，你可以设置一些极短的特殊链接，比如 <a href="https://7nm.co/h">7nm.co/h</a> 就可以极快地访问这个博客。当然，直接修改名为 <code>ShortLink</code> 的 Cloudflare KV 里面的映射也可以实现同样的效果。</p></li></ul><p><strong>api.example.com/alive</strong></p><ul><li><p>检测服务器是否在线</p></li><li><p>任意 HTTP method</p></li><li><p>返回值是一个 JSON，当它的值是</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs json"><span class="hljs-punctuation">&#123;</span><br>    <span class="hljs-attr">&quot;code&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">0</span><span class="hljs-punctuation">,</span><br>    <span class="hljs-attr">&quot;msg&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;ShortApi ctrl server.&quot;</span><br><span class="hljs-punctuation">&#125;</span><br></code></pre></td></tr></table></figure><p>时，我们认为服务器运作正常。</p></li></ul><h2 id="设计"><a href="#设计" class="headerlink" title="设计"></a>设计</h2><p><strong>ShortLink</strong></p><p>这个转发程序十分简单，核心仅包含这几行代码</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">let</span> path = <span class="hljs-string">&quot;/&quot;</span> + request.<span class="hljs-property">url</span>.<span class="hljs-title function_">split</span>(<span class="hljs-string">&quot;/&quot;</span>)[<span class="hljs-number">3</span>];<br><span class="hljs-keyword">let</span> forwardLink = <span class="hljs-keyword">await</span> <span class="hljs-title class_">ShortLink</span>.<span class="hljs-title function_">get</span>(path);<br><span class="hljs-keyword">if</span> (forwardLink === <span class="hljs-literal">null</span>) <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Response</span>(<span class="hljs-string">&quot;Link not found.&quot;</span>, &#123;<span class="hljs-attr">status</span>: <span class="hljs-number">404</span>&#125;);<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`<span class="hljs-subst">$&#123;path&#125;</span>,<span class="hljs-subst">$&#123;forwardLink&#125;</span>,<span class="hljs-subst">$&#123;<span class="hljs-built_in">Date</span>.now()&#125;</span>`</span>);<br><span class="hljs-keyword">return</span> <span class="hljs-title class_">Response</span>.<span class="hljs-title function_">redirect</span>(forwardLink, <span class="hljs-number">302</span>);<br></code></pre></td></tr></table></figure><p>简单来说，这个转发端会获取每个请求的 <code>urlpath</code>，然后在 <code>ShortLink</code> 这个 KV 空间中寻找一个用于跳转的链接。如果找到了，就 302 跳转过去；如果没找到，就返回 404 错误。</p><p>为什么用 302 跳转？因为这样就可以精确地统计每次访问。未来可以通过分析 Cloudflare 的日志来获取访问信息。并且这样设计还有针对搜索引擎策略的考虑。</p><p><strong>ShortLinkApi</strong></p><p>这个程序负责增删改转发映射规则，还提供了一个前端管理界面。</p><p>所有控制信息均存在 <strong>ShortLinkApi</strong> 这个 KV 命名空间中（目前只有一个 <code>code</code> 负责控制身份），可以自行修改。程序在收到请求之后，首先判断 path 是不是 <code>/manage</code>，如果是，就直接返回静态页面，如果不是，就判断请求头中 <code>Authorization</code> 的值是否正确，如果不正确就返回 403，如果正确就允许此次操作。</p><p>为了简化设计，这个程序并没有过多地分析收到的请求。对于所有的请求，程序会先将它们的请求体变成一个 JavaScript 对象：</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">let</span> body = <span class="hljs-keyword">await</span> request.<span class="hljs-title function_">json</span>();<br></code></pre></td></tr></table></figure><p>然后接下来的所有逻辑都依赖这个 <code>body</code> 对象。这也是我在 <code>delete</code> API 中使用 POST 请求的原因，因为 DELETE 请求并没有请求体。</p><p>关于 <code>ShortLinkApi</code> 剩余的部分没啥可以说的，就是一个 <code>switch</code> 负责调用请求对应的函数，然后执行并返回。</p><p><strong>生成短链接的算法</strong></p><ol><li>收到了一个链接，检查这个链接是否合法</li><li>对链接进行 MD5 计算，得到一个长度为 16 的 <code>Uint8Array</code></li><li>取上一步中数组的前 6 位，对 62（10 + 26 + 26）取余之后变成 <code>0 - 9, A - Z, a - z</code> 中对应的字符，然后在这个字符串前面加上 <code>/</code></li><li>取上一步得到的字符串，查看是否存在。如果：<ul><li>不存在：返回这个字符串</li><li>存在，但是对应的长链接相同：返回这个字符串</li><li>存在，但是对应的长链接不同：取第二步中数组的后 6 位，进行第三步，取得一个字符串，再进行本校验步骤</li></ul></li></ol><p>第 4 步的重复校验只能容忍一次重复。如果两次都碰撞了，则会要求管理员更改代码增加一位短链接。</p><p>我对这个短链接算法并不是很满意，因为对于碰撞的处理太草率了，应该设计容错率更高的碰撞算法。但是 Cloudflare Worker 只能运行 10ms，查询 KV 相对来说非常耗时，所以我这么设计了算法。不过这个算法也有一个好处，那就是当重复提交一个长链接时，这个算法会返回已有的短链接，不会占用额外的空间。</p><p>如果你有好的算法，欢迎 PR，或者与通过邮件我讨论。当然你也可以在我的留言板里面写下你的意见，留言板的地址见博客底部。</p><h2 id="最终"><a href="#最终" class="headerlink" title="最终"></a>最终</h2><p>特别感谢 <a href="https://github.com/Zxilly">Zxilly</a> 为本项目添加了 TypeScript 支持以及 Webpack 打包。</p><p>本项目使用 MIT 协议。另外，我不希望有人将这个短链接服务用于不合适的领域。如果你在使用这个项目，可以选择通过<a href="mailto:me@mail.kininaru.dev">邮件</a>告诉我一声，如果我的代码能为你解决一些问题，那我会挺开心的 :)</p>]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>Google Summer of Code 2021 Final Evaluation</title>
    <link href="/gsoc-report/"/>
    <url>/gsoc-report/</url>
    
    <content type="html"><![CDATA[<p>This is my final evaluation of Google Summer of Code 2021.</p><p>I worked in Casbin this summer, and my job is to write code for <a href="https://github.com/casbin/casdoor">Casdoor</a> and <a href="https://github.com/casbin/casnode">Casnode</a>. Click the link to read <a href="https://takemeto.icu/archive/gsoc/2021/proposal.pdf">My Proposal of Google Summer of Code 2021</a>.</p><p>The first part of this report is a brief summary of my work. For detailed contributions, please read the summary of pull requests below.</p><h1 id="Summary"><a href="#Summary" class="headerlink" title="Summary"></a>Summary</h1><p>Here are some big features I implemented for Casdoor and Casnode. In addition, I also fixed bugs for both of them.</p><h2 id="Casdoor"><a href="#Casdoor" class="headerlink" title="Casdoor"></a>Casdoor</h2><p>Casdoor is a Single-Sign-On platform based on OAuth 2.0 / OIDC. It can also serve as a service provider (you can use Casdoor to send Emails, upload files, set an avatar). My work during Google Summer of Code is to implement some of these functions, and add new features to it.</p><p><strong>Support avatar tailoring uploading:</strong> This is the first contribution I made to Casbin community. I spent almost a week learning the file structure of Casdoor, Golang and React, then I talked to my mentor about the details and the front end UI. It was really excited to see the PR was merged in the end. After this, I became familiar with the process of making a contribution to the community, so things became easy after that.</p><p><strong>go-sms-sender and the verification code:</strong> There are many SMS providers in mainland China. Each of them has a different API and SDK. So it is not easy to adapt all of them. To keep the code of Casdoor clean and easy to understand, I developed <a href="https://github.com/casdoor/go-sms-sender">go-sms-sender</a>. It is designed to use all kinds of SMS providers easily. Only few lines of code is needed to send a SMS via the sender. With go-sms-sender, I also implemented the function of sending verification code via Email and SMS for Casdoor.</p><p><strong>Turing test:</strong> Users are required to pass a Turing test before sending a verification code to their Emails or Phones.</p><p><strong>Casdoor SDKs:</strong> Casdoor is written in Golang, but it supports many languages. Casdoor uses HTTP requests to communicate with those SDKs. I participated in the development of Casdoor Go SDK, Casdoor JS SDK (supported popup sign in and sign up), Casdoor Java SDK, and reviewed the code of Casdoor PHP SDK.</p><h2 id="Casnode"><a href="#Casnode" class="headerlink" title="Casnode"></a>Casnode</h2><p>Casnode is the official forum of Casbin. Casnode is suitable for open source organizations to use because it supports the two-way synchronization to Google Groups, and can sync its topics and replies to all mailing lists.</p><p><strong>Night mode:</strong> I supported the night mode for Casnode. Now, users can click the switch button to switch between night mode and light mode.</p><p><strong>Refactored the OSS support:</strong> Casnode uses Aliyun STS as a storage provider before. This not that safe because users can upload any file to anywhere in the storage server. I refactored the storage system with another Go module called qor, which supports variables of storage providers, and upload these files in the backend, which is safer than before.</p><p><strong>Server side rendering:</strong> Casnode is written in React, which means that bots from search engines can not get the forum details because they can not execute JS code. I used Chromedp in Golang backend, and added a filter for bots. If a HTTP request has a <code>bot</code> keyword in its <code>User-Agent</code>, it will be recognized by the bot filter, and will receive a rendered page with forum details. This way, you can get the information of the forum from search engines.</p><p><strong>Mailing list support:</strong> Casnode sends Emails to a mailing list when new topics or new replies are made. It can sync all new topics and replies to all mailing lists, and supports the two-way synchronization to Google Groups. This made Casnode suitable for open source organizations to use.</p><p><strong>Embeded plugin:</strong> I implemented the embeded plugin for Casnode. With the plugin, only few lines of HTML code is needed to embed Casnode as a reply plugin to any webpage. For example, <a href="https://oa.casbin.com/">Casbin OA</a> uses Casnode  Embedded Plugin as a reply plugin.</p><h1 id="Contributions"><a href="#Contributions" class="headerlink" title="Contributions"></a>Contributions</h1><p>Here are my contributions to Casbin community.</p><h2 id="Open-Issues"><a href="#Open-Issues" class="headerlink" title="Open Issues"></a>Open Issues</h2><ul><li>Open Issue <a href="https://github.com/casbin/casnode/issues/178">Balance didn’t refresh after receiving “today’s checkin bonus”</a></li><li>Open Issue <a href="https://github.com/casbin/casdoor/issues/20">A suggestion for README.md</a></li><li>Open Issue <a href="https://github.com/casbin/casnode/issues/159">Forum website login error</a></li><li>Open Issue <a href="https://github.com/casbin/casbin.js/issues/34">The installation commands in the docs do not work properly</a></li><li>Open Issue <a href="https://github.com/casbin/casdoor/issues/170">Add a self check at the beginning of the program</a></li><li>Open Issue <a href="https://github.com/casbin/casnode/issues/323">Add a self check when the program starts</a></li></ul><h2 id="Open-Pull-Requests"><a href="#Open-Pull-Requests" class="headerlink" title="Open Pull Requests"></a>Open Pull Requests</h2><ul><li>Open PR <a href="https://github.com/casbin/casnode/pull/185">fix: notification bug</a></li><li>Open PR <a href="https://github.com/casbin/casnode/pull/183">fix: bonus bug and Chinese translation missing</a></li><li>Open PR <a href="https://github.com/casbin/casdoor/pull/34">feat: add go backend API docs</a></li><li>Open PR <a href="https://github.com/casbin/casdoor/pull/33">feat: Go backend API docs</a></li><li>Open PR <a href="https://github.com/casbin/casdoor/pull/32">Fix: Avatar uploading failed</a></li><li>Open PR <a href="https://github.com/casbin/casnode/pull/180">fix: converted sts to qor</a></li><li>Open PR <a href="https://github.com/casbin/casnode/pull/179">feat: convert Aliyun STS to qor/oss</a></li><li>Open PR <a href="https://github.com/casbin/casnode/pull/177">fix: member page links bug</a></li><li>Open PR <a href="https://github.com/casbin/casnode/pull/175">fix: rich text editor img bug</a></li><li>Open PR <a href="https://github.com/casbin/casnode/pull/173">fix: rich list bug</a></li><li>Open PR <a href="https://github.com/casbin/casnode/pull/169">feat: add sensitive words block</a></li><li>Open PR <a href="https://github.com/casbin/casnode/pull/166">fix: node bugs</a></li><li>Open PR <a href="https://github.com/casbin/static/pull/5">feat: added imgs and css for forum night mode</a></li><li>Open PR <a href="https://github.com/casbin/casnode/pull/164">feat: added night mode</a></li><li>Open PR <a href="https://github.com/casbin/static/pull/4">add: night.js for casbin-forum</a></li><li>Open PR <a href="https://github.com/casbin/casdoor/pull/23">feat: added avatar tailoring and uploading</a></li><li>Open PR <a href="https://github.com/casbin/casdoor/pull/22">Support avatar tailoring and updating</a></li><li>Open PR <a href="https://github.com/casbin/casdoor/pull/21">added explainations to Dev and Prod usage in README</a></li><li>Open PR <a href="https://github.com/casbin/casbin-website/pull/178">added details about EnforceEx()</a></li><li>Open PR <a href="https://github.com/casbin/casbin-website/pull/176">Fix: https://github.com/casbin/casbin-website/issues/82</a></li><li>Open PR <a href="https://github.com/casbin/casbin-website/pull/175">Fix: Error document</a></li><li>Open PR <a href="https://github.com/casbin/casbin-website/pull/173">added Casbin RBAC and RBAC96</a></li><li>Open PR <a href="https://github.com/casbin/casbin-website/pull/172">added Casbin RBAC and RBAC96</a></li><li>Open PR <a href="https://github.com/casbin/casbin-website/pull/170">added a tutorial for APIs</a></li><li>Open PR <a href="https://github.com/casbin/casdoor/pull/51">feat: add info about MySQL and Postgres in readme</a></li><li>Open PR <a href="https://github.com/casbin/casdoor/pull/50">feat: add pg for db adapter</a></li><li>Open PR <a href="https://github.com/casbin/google-groups-crawler/pull/3">feat: recognize google group email correctly</a></li><li>Open PR <a href="https://github.com/casbin/casnode/pull/224">feat: sync google group conversations to Casnode</a></li><li>Open PR <a href="https://github.com/casbin/google-groups-crawler/pull/2">fix: typo in readme</a></li><li>Open PR <a href="https://github.com/casbin/google-groups-crawler/pull/1">feat: init commit</a></li><li>Open PR <a href="https://github.com/casbin/casnode/pull/223">feat: added Mailing List</a></li><li>Open PR <a href="https://github.com/casbin/casnode/pull/222">feat: node header image</a></li><li>Open PR <a href="https://github.com/casbin/casnode/pull/221">fix: node background image uploading failed</a></li><li>Open PR <a href="https://github.com/casbin/static/pull/8">fix: add min width to desktop pages</a></li><li>Open PR <a href="https://github.com/casbin/casnode/pull/217">feat: added cdp for ssr</a></li><li>Open PR <a href="https://github.com/casbin/casnode/pull/216">fix: avatar display error in topic page</a></li><li>Open PR <a href="https://github.com/casbin/static/pull/7">fix: picture too wide in notification page</a></li><li>Open PR <a href="https://github.com/casbin/casnode/pull/215">fix: reply box height and avatar too small</a></li><li>Open PR <a href="https://github.com/casbin/casnode/pull/214">add reset username and fixed HTML tag display error</a></li><li>Open PR <a href="https://github.com/casbin/casnode/pull/212">fix: img doesn’t show in richtext editor replies</a></li><li>Open PR <a href="https://github.com/casbin/casnode/pull/211">fix: page didn’t jump on mobile UI and reply links</a></li><li>Open PR <a href="https://github.com/casbin/casnode/pull/210">fix: reload replies from backend incorrectly</a></li><li>Open PR <a href="https://github.com/casbin/casnode/pull/207">refactor: rewrite topic page logic</a></li><li>Open PR <a href="https://github.com/casbin/casnode/pull/206">fix: reply page bug and admin new node page crash</a></li><li>Open PR <a href="https://github.com/casnode/casnode-website/pull/1">Initialized docusaurus files and added CI</a></li><li>Open PR <a href="https://github.com/casbin/casnode/pull/205">made last page the default page of reply box, and made auto jump smooth</a></li><li>Open PR <a href="https://github.com/casbin/casnode/pull/203">feat: auto jump when reply is not in the first page</a></li><li>Open PR <a href="https://github.com/casbin/casnode/pull/201">fix: login check bug</a></li><li>Open PR <a href="https://github.com/casbin/static/pull/6">fix: mobile select2 and casnode reply img error</a></li><li>Open PR <a href="https://github.com/casbin/casnode/pull/193">fix: made casnode adapt the layout according to the page size</a></li><li>Open PR <a href="https://github.com/casbin/casnode/pull/190">feat: convert casbin forum to casnode</a></li><li>Open PR <a href="https://github.com/casbin/casnode/pull/187">fix: rich text editor doesn’t refresh after replying</a></li><li>Open PR <a href="https://github.com/casbin/casnode/pull/186">fix: text colors are not in effect</a></li><li>Open PR <a href="https://github.com/casdoor/casdoor-website/pull/9">feat: add provider intro</a></li><li>Open PR <a href="https://github.com/casdoor/casdoor-website/pull/7">feat: add basic intro to Casdoor</a></li><li>Open PR <a href="https://github.com/casbin/casdoor/pull/73">fix: removed outdated lines in README</a></li><li>Open PR <a href="https://github.com/casbin/casnode/pull/250">feat: use retro style when user did not set gravatar</a></li><li>Open PR <a href="https://github.com/casbin/casnode/pull/249">fix: add Re to mailing list replies</a></li><li>Open PR <a href="https://github.com/casbin/casnode/pull/244">fix: print log when the cookie expires</a></li><li>Open PR <a href="https://github.com/casbin/casnode/pull/243">feat: update crawler to the latest version</a></li><li>Open PR <a href="https://github.com/casbin/google-groups-crawler/pull/16">fix: http client aren’t closed</a></li><li>Open PR <a href="https://github.com/casbin/google-groups-crawler/pull/15">refactor: rewrite all logic</a></li><li>Open PR <a href="https://github.com/casbin/google-groups-crawler/pull/14">fix: Conversation message split</a></li><li>Open PR <a href="https://github.com/casbin/google-groups-crawler/pull/13">fix: Conversation message error</a></li><li>Open PR <a href="https://github.com/casbin/google-groups-crawler/pull/12">refactor: rewrite crawler logic to get conversations</a></li><li>Open PR <a href="https://github.com/casbin/google-groups-crawler/pull/11">fix: code won’t exit when an Internet error happened</a></li><li>Open PR <a href="https://github.com/casbin/google-groups-crawler/pull/10">feat: add cookies when getting messages</a></li><li>Open PR <a href="https://github.com/casbin/casnode/pull/237">fix: invalid date for Google group messages</a></li><li>Open PR <a href="https://github.com/casbin/google-groups-crawler/pull/9">fix: time syntax error in Google groups conversations</a></li><li>Open PR <a href="https://github.com/casbin/google-groups-crawler/pull/8">feat: get conversation start time</a></li><li>Open PR <a href="https://github.com/casbin/casdoor/pull/70">feat: turing test before sending code</a></li><li>Open PR <a href="https://github.com/casbin/casdoor/pull/66">feat: intergrate verification code countdown as a component</a></li><li>Open PR <a href="https://github.com/casbin/casdoor/pull/63">feat: check email and phone number when signing up</a></li><li>Open PR <a href="https://github.com/casbin/casnode/pull/229">feat: upload avatar to oss when sync from google group</a></li><li>Open PR <a href="https://github.com/casdoor/casdoor-java-sdk/pull/1">feat: Maven project init and add getUsers() getOrganizations() API</a></li><li>Open PR <a href="https://github.com/casbin/google-groups-crawler/pull/7">fix: add judgement to avoid crashing</a></li><li>Open PR <a href="https://github.com/casbin/casdoor/pull/57">fix: remove all dom APIs from the project</a></li><li>Open PR <a href="https://github.com/casbin/casdoor/pull/56">Fixed reset phone email data error and removed dom API from ResetModal.js</a></li><li>Open PR <a href="https://github.com/casbin/casdoor/pull/55">feat: add reset Email and phone by using verification code.</a></li><li>Open PR <a href="https://github.com/casdoor/go-sms-sender/pull/1">Add Tencent Cloud and Aliyun as providers</a></li><li>Open PR <a href="https://github.com/casbin/casdoor/pull/54">feat: set password for users</a></li><li>Open PR <a href="https://github.com/casbin/casnode/pull/226">feat: update crawler to v0.0.6 to remove quote from replies</a></li><li>Open PR <a href="https://github.com/casbin/google-groups-crawler/pull/6">feat: removed gmail quote from replies</a></li><li>Open PR <a href="https://github.com/casbin/casnode/pull/225">feat: auto create user during synchronization from Google Groups</a></li><li>Open PR <a href="https://github.com/casbin/google-groups-crawler/pull/5">fix: added some judgement to avoid crashing</a></li><li>Open PR <a href="https://github.com/casbin/google-groups-crawler/pull/4">feat: add author name to email mapping</a></li><li>Open PR <a href="https://github.com/casnode/casnode-website/pull/11">feat: add architecture overview, main-package, routers, controllers</a></li><li>Open PR <a href="https://github.com/casbin/casnode/pull/295">Add low version SQL support to search</a></li><li>Open PR <a href="https://github.com/casbin/casnode/pull/287">Removed keywords in html Tags when searching</a></li><li>Open PR <a href="https://github.com/casbin/casnode/pull/279">Add nil judgements to balance and notification backend to avoid crashing and fixed avatar error in search results</a></li><li>Open PR <a href="https://github.com/casnode/casnode-website/pull/7">feat: add get started page</a></li><li>Open PR <a href="https://github.com/casbin/casnode/pull/273">feat: in-site search for topics</a></li><li>Open PR <a href="https://github.com/casbin/casnode/pull/268">fix: update crawler to v0.1.2 to avoid crashing</a></li><li>Open PR <a href="https://github.com/casbin/casnode/pull/267">fix: signup bug</a></li><li>Open PR <a href="https://github.com/casbin/google-groups-crawler/pull/17">fix: http response nil</a></li><li>Open PR <a href="https://github.com/casbin/casnode/pull/263">feat: convert to casdoor go sdk</a></li><li>Open PR <a href="https://github.com/casdoor/casdoor-go-sdk/pull/2">fix: remove panic in internet errors to avoid crashing</a></li><li>Open PR <a href="https://github.com/casbin/casdoor/pull/85">fix: redirect urls null in app-built-in</a></li><li>Open PR <a href="https://github.com/casdoor/casdoor-go-sdk/pull/1">feat: add update delete User</a></li><li>Open PR <a href="https://github.com/casbin/casdoor/pull/84">fix: wrong usement in getUsername</a></li><li>Open PR <a href="https://github.com/casbin/casdoor/pull/76">feat: authorize via clientId and clientSecret</a></li><li>Open PR <a href="https://github.com/casnode/casnode-embed-js/pull/2">Basic Code</a></li><li>Open PR <a href="https://github.com/casdoor/casdoor-website/pull/37">fix: nginx reload command</a></li><li>Open PR <a href="https://github.com/casbin/casdoor/pull/202">feat: expose email and sms APIs as services to SDK</a></li><li>Open PR <a href="https://github.com/casbin/casdoor/pull/198">feat: integrate Storage config into providers</a></li><li>Open PR <a href="https://github.com/casbin/casdoor/pull/196">feat: integrate OSS into providers</a></li><li>Open PR <a href="https://github.com/casbin/casnode/pull/329">feat: use Casdoor SDK to signup</a></li><li>Open PR <a href="https://github.com/casbin/casdoor/pull/185">Customized OAuth provider login URL</a></li><li>Open PR <a href="https://github.com/casbin/casnode/pull/321">Added Casdoor JS SDK</a></li><li>Open PR <a href="https://github.com/casbin/casnode/pull/319">feat: add react lazyload</a></li><li>Open PR <a href="https://github.com/casbin/casdoor/pull/153">feat: auto login session will expire after 24h</a></li><li>Open PR <a href="https://github.com/casbin/casdoor/pull/149">feat: support SAML okta login</a></li><li>Open PR <a href="https://github.com/node-casbin/redis-adapter/pull/6">feat: add auto release CI</a></li><li>Open PR <a href="https://github.com/casbin/static/pull/18">added a new Button component.</a></li><li>Open PR <a href="https://github.com/casbin/casnode/pull/316">feat: add Button component</a></li><li>Open PR <a href="https://github.com/casdoor/casdoor-js-sdk/pull/7">feat: add semantic release</a></li><li>Open PR <a href="https://github.com/casbin/casnode/pull/363">fix: code mirror editor display bugs</a></li><li>Open PR <a href="https://github.com/casbin/casnode/pull/358">feat: Hide Nodes and Topics</a></li><li>Open PR <a href="https://github.com/casdoor/casdoor-js-sdk/pull/6">feat: support popup window</a></li><li>Open PR <a href="https://github.com/casbin/casbin-oa/pull/14">feat: use casdoor-js-sdk to signin and signup</a></li><li>Open PR <a href="https://github.com/casbin/casnode/pull/357">fix: add nodeId in getTopicByUrlAndTitle</a></li><li>Open PR <a href="https://github.com/casbin/casbin-oa/pull/13">feat: add Casnode embed plguin</a></li><li>Open PR <a href="https://github.com/casdoor/go-sms-sender/pull/3">feat: change provider name</a></li><li>Open PR <a href="https://github.com/casbin/casnode/pull/354">feat: login in embed reply</a></li><li>Open PR <a href="https://github.com/casbin/casdoor/pull/252">feat: add VolcEngine as a SMS provider</a></li><li>Open PR <a href="https://github.com/casbin/casdoor/pull/249">feat: update go-sms-sender to v0.0.2 to support VolcEngine</a></li><li>Open PR <a href="https://github.com/casbin/casnode/pull/351">feat: add router and APIs for embed plugin</a></li><li>Open PR <a href="https://github.com/casbin/casnode/pull/350">Embed plugin</a></li><li>Open PR <a href="https://github.com/casbin/casnode/pull/347">Add API to get topic by url and title</a></li><li>Open PR <a href="https://github.com/casdoor/casdoor-go-sdk/pull/9">feat: modified user, and return user directly</a></li><li>Open PR <a href="https://github.com/casbin/casdoor/pull/220">feat: add user initScore in app.conf</a></li><li>Open PR <a href="https://github.com/casbin/casnode/pull/342">feat: add user initScore in app.conf</a></li><li>Open PR <a href="https://github.com/casbin/casdoor/pull/218">refactor: use ResponseError to response error</a></li><li>Open PR <a href="https://github.com/casbin/casdoor/pull/213">fix: use ReponseError to response error</a></li></ul><h2 id="Review-Pull-Requests"><a href="#Review-Pull-Requests" class="headerlink" title="Review Pull Requests"></a>Review Pull Requests</h2><ul><li>Review PR <a href="https://github.com/casbin/casnode/pull/247#pullrequestreview-671704807">fix: all codemirror focus area</a></li><li>Review PR <a href="https://github.com/casbin/casnode/pull/246#pullrequestreview-671422215">fix: Perfect the function of add node</a></li><li>Review PR <a href="https://github.com/casbin/casdoor/pull/72#pullrequestreview-670363168">feat: add “forget password” [front &amp; backend]</a></li><li>Review PR <a href="https://github.com/casbin/casnode/pull/242#pullrequestreview-669771999">feat: Add new member in UI #194</a></li><li>Review PR <a href="https://github.com/casbin/casnode/pull/241#pullrequestreview-669764803">fix: codemirror textarea focus area</a></li><li>Review PR <a href="https://github.com/casbin/casnode/pull/238#pullrequestreview-668703725">feat:Add advertisement banners to the forum</a></li><li>Review PR <a href="https://github.com/casbin/casdoor/pull/132#pullrequestreview-693382559">feat: add password Item forcibly</a></li><li>Review PR <a href="https://github.com/casbin/casnode/pull/313#pullrequestreview-692457034">add check node info on add new topic and reply</a></li><li>Review PR <a href="https://github.com/casbin/casdoor/pull/117#pullrequestreview-689435765">fix: improve i18n and add some translation</a></li><li>Review PR <a href="https://github.com/casbin/casnode/pull/305#pullrequestreview-689177408">fix: Return to the previous page after language selection</a></li><li>Review PR <a href="https://github.com/casbin/casnode/pull/303#pullrequestreview-687907113">fix: sync google group attachment files to links</a></li><li>Review PR <a href="https://github.com/casbin/google-groups-crawler/pull/18#pullrequestreview-687886977">fix: sync attachment files</a></li><li>Review PR <a href="https://github.com/casbin/casnode/pull/298#pullrequestreview-687827018">feat: add member and poster swagger api docs</a></li><li>Review PR <a href="https://github.com/casbin/casdoor/pull/111#pullrequestreview-686355298">fix: Merge the same translation words #108</a></li><li>Review PR <a href="https://github.com/casbin/casnode/pull/285#pullrequestreview-686349241">feat: add topic and account swagger api docs</a></li><li>Review PR <a href="https://github.com/casbin/casnode/pull/284#pullrequestreview-686070533">feat: migrate beego from v1.x to v2.x</a></li><li>Review PR <a href="https://github.com/casbin/casnode/pull/283#pullrequestreview-685314829">fix: user balance not updated after login #276</a></li><li>Review PR <a href="https://github.com/casbin/casdoor/pull/107#pullrequestreview-684038545">feat: Allow the user to sign up with OAuth</a></li><li>Review PR <a href="https://github.com/casbin/casnode/pull/277#pullrequestreview-682790770">fix: The administrator cannot enter the administrator background #275</a></li><li>Review PR <a href="https://github.com/casbin/casnode/pull/274#pullrequestreview-682413949">fix: Fix the debug warnings in browser console #269</a></li><li>Review PR <a href="https://github.com/casbin/casdoor/pull/102#pullrequestreview-682411165">feat: Allow the user to sign up with OAuth</a></li><li>Review PR <a href="https://github.com/casbin/casnode/pull/272#pullrequestreview-682331150">fix: Fix the bug that the ad doesn’t show up for anonymous access #270</a></li><li>Review PR <a href="https://github.com/casbin/casdoor/pull/92#pullrequestreview-678096847">feat: allow user signup with oauth</a></li><li>Review PR <a href="https://github.com/casbin/casnode/pull/259#pullrequestreview-676278571">feat: Add auto-generated topic tags</a></li><li>Review PR <a href="https://github.com/casbin/casnode/pull/253#pullrequestreview-674420635">feat: users can add tags to posts when they publish them #197</a></li><li>Review PR <a href="https://github.com/casbin/casdoor/pull/75#pullrequestreview-673767651">feat: add “forget password” [front &amp; backend]</a></li><li>Review PR <a href="https://github.com/casbin/casnode/pull/340#pullrequestreview-718769483">refactor: change jsdelivr to cdn.casbin.org</a></li><li>Review PR <a href="https://github.com/casbin/casnode/pull/336#pullrequestreview-716738317">fix: topic author error and memberbox fresh</a></li><li>Review PR <a href="https://github.com/casdoor/casbin-oa-android/pull/9#pullrequestreview-716734713">feat: implement the basic framework of casbin-oa app</a></li><li>Review PR <a href="https://github.com/casbin/casnode/pull/335#pullrequestreview-715497704">refactor: change cdn</a></li><li>Review PR <a href="https://github.com/casdoor/casdoor-js-sdk/pull/2#pullrequestreview-714789168">feat: general implement</a></li><li>Review PR <a href="https://github.com/casbin/casdoor/pull/189#pullrequestreview-713620711">feat: improve ApplicationEditPage</a></li><li>Review PR <a href="https://github.com/casbin/casdoor/pull/187#pullrequestreview-713054019">feat: fix header bugs, improve UI, optimize touchscreen experience</a></li><li>Review PR <a href="https://github.com/casbin/casbin-oa/pull/6#pullrequestreview-703997675">feat: You can get Prs from github automatically</a></li><li>Review PR <a href="https://github.com/casbin/casdoor/pull/160#pullrequestreview-703919548">feat: support LDAP</a></li><li>Review PR <a href="https://github.com/casbin/casdoor/pull/150#pullrequestreview-702138627">feat: Add log table and record all user behaviors into the table, add UI to view logs</a></li><li>Review PR <a href="https://github.com/casbin/casdoor/pull/148#pullrequestreview-700657858">feat: support 2fa</a></li><li>Review PR <a href="https://github.com/casbin/casdoor/pull/146#pullrequestreview-700574269">feat: support login UI customization</a></li><li>Review PR <a href="https://github.com/casnode/casnode-website/pull/17#pullrequestreview-699333174">feat: add installation by BT panel</a></li><li>Review PR <a href="https://github.com/casdoor/casdoor-php-sdk/pull/2#pullrequestreview-699328336">Add the code.</a></li><li>Review PR <a href="https://github.com/casbin/casnode/pull/317#pullrequestreview-698680205">feat: Install Casnode by BT panel</a></li><li>Review PR <a href="https://github.com/casbin/casbin-oa/pull/4#pullrequestreview-698567609">fix: Correct a small bug</a></li><li>Review PR <a href="https://github.com/casbin/casdoor/pull/143#pullrequestreview-698564255">feat: Integrate Crowdin</a></li><li>Review PR <a href="https://github.com/casbin/casnode/pull/348#pullrequestreview-728195139">feat: add frontconf management</a></li><li>Review PR <a href="https://github.com/casdoor/go-sms-sender/pull/2#pullrequestreview-727139514">Add VolcEngine SMS service support</a></li><li>Review PR <a href="https://github.com/casbin/casdoor/pull/239#pullrequestreview-725974995">fix:  table errors in frontend</a></li><li>Review PR <a href="https://github.com/casbin/casdoor/pull/224#pullrequestreview-724808035">feat: support local storage</a></li><li>Review PR <a href="https://github.com/casbin/casdoor/pull/217#pullrequestreview-720401001">feat: mount app.conf to container</a></li></ul>]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>Google Summer of Code</title>
    <link href="/gsoc/"/>
    <url>/gsoc/</url>
    
    <content type="html"><![CDATA[<p>今年申请了 Google Summer of Code，向 Casbin 社区投递了 <a href="https://takemeto.icu/archive/gsoc/2021/proposal.pdf">Proposal</a>。</p><p>5 月 18 日收到了 Google 的邮件：</p><p><img src="https://takemeto.icu/archive/gsoc/2021/gsoc-accepted.png" alt="Accepted Email"></p>]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>About</title>
    <link href="/about/"/>
    <url>/about/</url>
    
    <content type="html"><![CDATA[<h2 id="关于我"><a href="#关于我" class="headerlink" title="关于我"></a>关于我</h2><p><strong>什么语言？</strong> C/C++, Golang</p><p><strong>什么文化？</strong> 中国科学技术大学</p><p><strong>是哪里人？</strong> 江西省南昌市</p><h2 id="关于本博客"><a href="#关于本博客" class="headerlink" title="关于本博客"></a>关于本博客</h2><p><strong>2022 02 04</strong> <code>kininaru.dev</code> -&gt; <code>takemeto.icu</code> 此域名我很满意，已备案，以后不换了<del>才不是因为 kininaru.dev 太贵</del>。</p><p><strong>2021 06 03</strong> <code>chromium.link</code> -&gt; <code>kininaru.dev</code></p><p><strong>2021 04 14</strong> 因不满 Wordpress 所使用的 PHP 语言，放弃使用 PHP（其实是因为不想续费服务器），改用 Hexo + Github Pages 部署博客。同时，注册 <code>chromium.link</code> 域名，并将其设为博客主域名。本次构建丢失了此前全部的内容。但本次构建后，所有内容保留至今。</p><p><strong>2019 11 08</strong> 上大学后才想起这回事，在大一寒假续费域名 <code>shiftregister.top</code>。基于阿里云轻量应用服务器部署，使用 Wordpress 构建。本次构建丢失了此前全部内容。</p><p><strong>2019 08</strong> <code>shiftregister.top</code> 域名过期。此前几个月 Vultr 服务器欠费停机，博客失效。</p><p><strong>2018 08</strong> 购入 <code>shiftregister.top</code> 域名和 Vultr 服务器，使用 Wordpress 构建。（现在该域名已失效，我对其中内容不做任何保证）</p><h2 id="联系我"><a href="#联系我" class="headerlink" title="联系我"></a>联系我</h2><p>Email: <a href="mailto:&#x73;&#x68;&#x69;&#x66;&#x74;&#114;&#101;&#x67;&#x69;&#x73;&#116;&#x65;&#x72;&#50;&#x33;&#x33;&#x40;&#x6f;&#117;&#x74;&#108;&#111;&#x6f;&#x6b;&#46;&#99;&#111;&#x6d;">&#x73;&#x68;&#x69;&#x66;&#x74;&#114;&#101;&#x67;&#x69;&#x73;&#116;&#x65;&#x72;&#50;&#x33;&#x33;&#x40;&#x6f;&#117;&#x74;&#108;&#111;&#x6f;&#x6b;&#46;&#99;&#111;&#x6d;</a></p><p>GitHub: <a href="https://github.com/pokyux">Pokyux</a></p><p>原神: UID 100108722</p>]]></content>
    
    
    
  </entry>
  
  
  
  
</search>
